<!DOCTYPE html>
<html>
<head>
<meta name='viewport' content='user-scalable=no, width=device-width, initial-scale=1'>
<link rel="icon" type="image/x-icon" href="favicon2.ico">


	
<!--<script>
var OneTrust = {
      dataSubjectParams: {
          id: "1222c35b-720e-42d8-b468-6317b8e87b16",
          isAnonymous: false,
          token : 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjIyYzM1Yi03MjBlLTQyZDgtYjQ2OC02MzE3YjhlODdiMTYifQ.0nj4KKCVk5r7S8qb6iYU_EfXZ8BV78DHO0iVhABh7gs'
      }
};
</script>-->


<!-- OneTrust Cookies Consent Notice start for lucasdiazonetrust.github.io/webpagetesting/cookieid.html -->
<script src="https://cdn.cookielaw.org/consent/019a2b75-e738-706f-aab2-f50270f41df2/otSDKStub.js"  type="text/javascript" charset="UTF-8" data-domain-script="019a2b75-e738-706f-aab2-f50270f41df2" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for lucasdiazonetrust.github.io/webpagetesting/cookieid.html -->

	

	
<title>cookieid</title>
</head>
<body>
	
<h1>cookieid</h1>
	
<!--<script>
//generating the OT identifier

function saveParams(){
	
var cook = OneTrust.getDataSubjectId();
sessionStorage.setItem('cook', cook);

// Helper: Base64URL encode
function base64url(source) {
  return btoa(String.fromCharCode(...new Uint8Array(source)))
    .replace(/=/g, '')
    .replace(/\+/g, '-')
    .replace(/\//g, '_');
}

// Helper: Encode string to Uint8Array
function encodeUTF8(str) {
  return new TextEncoder().encode(str);
}

// Main: Generate JWT
async function generateJWT(payload, secret) {
  const header = {
    alg: 'HS256',
    typ: 'JWT'
  };

  const encodedHeader = base64url(encodeUTF8(JSON.stringify(header)));
  const encodedPayload = base64url(encodeUTF8(JSON.stringify(payload)));
  const dataT = `${encodedHeader}.${encodedPayload}`;

  const key = await crypto.subtle.importKey(
    'raw',
    encodeUTF8(secret),
    { name: 'HMAC', hash: 'SHA-256' },
    false,
    ['sign']
  );

  const signature = await crypto.subtle.sign('HMAC', key, encodeUTF8(dataT));
  const encodedSignature = base64url(signature);

  return dataT + "." + encodedSignature;
}

//generating the JWT and saving to session storage
var jwtgenerated = generateJWT({ sub: cook}, 'b7f3c1a4e2d8f9a1c6e7b3d4a9f2c8e1d3b6a7c9f0e4d1b2a8c3f7e6d5b1a0c9').then(tokenT => sessionStorage.setItem('tokenT', tokenT));

	
//pushing  the datasubject asynchronously
console.log("Saved params to session storage- cookieID:" + sessionStorage.getItem('cook') + " --- " + "jwtgenerated: " + sessionStorage.getItem('tokenT'));
}
</script>-->

<script>
	function saveParams() {
  if (typeof OneTrust !== 'undefined' && OneTrust.getDataSubjectId) {
    var cook = OneTrust.getDataSubjectId();
    sessionStorage.setItem('cook', cook);

    function base64url(source) {
      return btoa(String.fromCharCode(...new Uint8Array(source)))
        .replace(/=/g, '')
        .replace(/\+/g, '-')
        .replace(/\//g, '_');
    }

    function encodeUTF8(str) {
      return new TextEncoder().encode(str);
    }

    async function generateJWT(payload, secret) {
      const header = { alg: 'HS256', typ: 'JWT' };
      const encodedHeader = base64url(encodeUTF8(JSON.stringify(header)));
      const encodedPayload = base64url(encodeUTF8(JSON.stringify(payload)));
      const dataT = `${encodedHeader}.${encodedPayload}`;

      const key = await crypto.subtle.importKey(
        'raw',
        encodeUTF8(secret),
        { name: 'HMAC', hash: 'SHA-256' },
        false,
        ['sign']
      );

      const signature = await crypto.subtle.sign('HMAC', key, encodeUTF8(dataT));
      const encodedSignature = base64url(signature);

      return `${dataT}.${encodedSignature}`;
    }

    generateJWT({ sub: cook }, 'b7f3c1a4e2d8f9a1c6e7b3d4a9f2c8e1d3b6a7c9f0e4d1b2a8c3f7e6d5b1a0c9')
      .then(tokenT => {
        sessionStorage.setItem('tokenT', tokenT);
        console.log("Saved params to session storage - cookieID: " + sessionStorage.getItem('cook') + " --- jwtgenerated: " + sessionStorage.getItem('tokenT'));
      });

  } else {
    console.error("OneTrust no est√° disponible.");
  }
}
</script>

	
	<script>
function pushDSubject(){
	var cookPush = sessionStorage.getItem('cook');
	var tokenTPush = sessionStorage.getItem('tokenT');
	console.log("pushing params to synconsentprofiles method: " + cookPush + " - tokenTPush: " + tokenTPush);
	OneTrust.syncConsentProfile(cookPush, tokenTPush, false);
}

	
</script>  

<input type="button" onClick="saveParams();" value="save parameters to session storage"/>
<input type="button" onClick="pushDSubject();" value="push DS to OT"/>
	
<hr>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Gr1uvR-lZJo?si=JRZh-SYqk4eY_e5Z" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
<hr>
<iframe src="https://player.vimeo.com/video/76979871" width="640" height="360" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>
<hr>
<iframe width="560" height="315" src="https://www.youtube.com/embed/FH7lIOv1s3Q?si=0Sv-3PrD4e16D4Hs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

	
<!-- OneTrust Cookies Settings button start -->
<button id="ot-sdk-btn" class="ot-sdk-show-settings">Cookie Settings</button>
<!-- OneTrust Cookies Settings button end -->

<hr>



	
</body>
</html>
